{
  "resourceType": "Library",
  "id": "OpioidCDSRoutines",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><table class=\"grid dict\"><tr><th scope=\"row\"><b>Id: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">library-OpioidCDSRoutines</td></tr><tr><th scope=\"row\"><b>Type: </b></th><td style=\"padding-right: 25px;\"> logic-library </td></tr><tr><th scope=\"row\"><b>Version: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">0.1.1</td></tr><tr><th scope=\"row\"><b>Status: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">active</td></tr><tr style=\"vertical-align: top;\"><th rowspan=\"3\" scope=\"row\"><b>Related: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span>http://fhir.org/guides/cdc/opioid-cds/Library/FHIRHelpers</span></p></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span>http://fhir.org/guides/cdc/opioid-cds/Library/OpioidCDSCommon</span></p></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span>http://fhir.org/guides/cdc/opioid-cds/Library/OpioidCDSCommonConfig</span></p></td></tr><tr style=\"vertical-align: top;\"><th rowspan=\"7\" scope=\"row\"><b>Data Requirements: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>category</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://hl7.org/fhir/us/core/ValueSet/us-core-condition-category</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>ServiceRequest</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://fhir.org/guides/cdc/opioid-cds/ValueSet/therapies-indicating-end-of-life-care</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Encounter</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>type</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://fhir.org/guides/cdc/opioid-cds/ValueSet/office-visit</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>category</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://hl7.org/fhir/us/core/ValueSet/us-core-condition-category</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>PractitionerRole</span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>category</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://hl7.org/fhir/us/core/ValueSet/us-core-condition-category</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>MedicationDispense</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>medication</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://fhir.org/guides/cdc/opioid-cds/ValueSet/opioid-analgesics-with-ambulatory-misuse-potential</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><th scope=\"row\"><b>Content: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><b>type: </b><span>text/cql</span></td></tr><tr><td colspan=\"2\" style=\"padding-left: 25px; padding-right: 25px;\"><pre><code class=\"language-cql\">library OpioidCDSRoutines version '0.1.1'\n\nusing FHIR version '4.0.1'\n\ninclude FHIRHelpers version '4.0.1' called FHIRHelpers\ninclude OpioidCDSCommon version '0.1.1' called Common\ninclude OpioidCDSCommonConfig version '0.1.1' called Config\n\ncontext Patient\n\n/*\n**  Routine #1\n**  Opioid Review Useful Routine\n**\n**  Definition              | Answer to Proceed   | Details                                      | Data (Terminology) Requirement\n**  ------------------------------------------------------------------------------------------------------------------------------------\n**  Age &lt; 18 years?         | No                  | Calculate age from date of birth; exclude    | Date of birth\n**                          |                     | patients with age less than 18 years at the  |\n**                          |                     | time of the prescription                     |\n**  ------------------------------------------------------------------------------------------------------------------------------------\n**  Limited life            | No                  | Look for documented findings consistent      | Limited life expectancy conditions\n**  expectancy conditions   |                     | with those listed in the limited life        |\n**  present?                |                     | expectancy value set (terminal illness, bad  |\n**                          |                     | prognosis, pre-terminal)                     |\n**  ------------------------------------------------------------------------------------------------------------------------------------\n**  Order for therapies     | No                  | Look for patients with an existing order for | Therapies indicating end of life care\n**  indicating end of life  |                     | therapies indicating end of life care        |\n**  care in past 90 days?   |                     | written within past 90 days                  |\n**  ------------------------------------------------------------------------------------------------------------------------------------\n**  Active cancer           | No                  | See sub-routine 3                            | See sub-routine 3\n**  treatment?              |                     |                                              |\n**  ------------------------------------------------------------------------------------------------------------------------------------\n**  Conditions Likely       | No                  | Look for patients with active conditions in  | Conditions likely terminal for opioid\n**  Terminal for opioid     |                     | the value set end-of-life-conditions         | prescribing\n**  prescribing present?    |                     |                                              |\n**  ------------------------------------------------------------------------------------------------------------------------------------\n**\n*/\n\ndefine &quot;Palliative Care Lookback Period&quot;:\n  Interval[Today() - 90 days, Today()]\n\ndefine &quot;Is Opioid Review Useful?&quot;:\n  not &quot;Patient Age Less Than 18&quot;\n    and not &quot;Conditions Indicating End Of Life Present&quot;\n    and not &quot;Order For Palliative Care In Past 90 Days&quot;\n    and not &quot;Is Active Cancer Treatment?&quot;\n    and not &quot;Conditions Including Cancer To Exclude Opioid Management Indicating End-Stage Disease Present&quot;\n\n\ndefine &quot;Patient Age Less Than 18&quot;:\n  Config.&quot;Age Less than 18 Years Is Enabled&quot;\n    and AgeInYearsAt(Today()) &lt; 18\n\ndefine &quot;Conditions Indicating End Of Life Present&quot;:\n  exists (\n    [Condition: category in Common.&quot;US Core Condition Category Codes&quot;] LLEC\n      where LLEC.code in Common.&quot;Limited life expectancy conditions&quot;\n        and exists (\n          LLEC.clinicalStatus.coding Coding\n            where FHIRHelpers.ToCode(Coding) ~ Common.&quot;Active Condition&quot;\n        )\n  )\n\ndefine &quot;Order For Palliative Care In Past 90 Days&quot;:\n  exists (\n    [ServiceRequest: Common.&quot;Therapies indicating end of life care&quot;] SR\n      where SR.status in { 'active', 'completed'}\n        and SR.intent != null\n        and FHIRHelpers.ToDateTime(SR.authoredOn) during day of &quot;Palliative Care Lookback Period&quot;\n  )\n\ndefine &quot;Conditions Including Cancer To Exclude Opioid Management Indicating End-Stage Disease Present&quot;:\n  Config.&quot;End-Stage Disease Criteria Enabled&quot;\n    and exists (\n      [Condition: category in Common.&quot;US Core Condition Category Codes&quot;] EOLC\n        where EOLC.code in Common.&quot;Conditions likely terminal for opioid prescribing&quot;\n          and exists (\n            EOLC.clinicalStatus.coding Coding\n              where FHIRHelpers.ToCode(Coding) ~ Common.&quot;Active Condition&quot;\n          )\n    )\n\n// End of Opioid Review Useful Routine\n\n/*\n**  Routine #2\n**  Opioid Naive Routine\n**\n**  Definition                    | Answer to Proceed   | Details                                           | Data (Terminology) Requirement\n**  ----------------------------------------------------------------------------------------------------------------------------------------\n**  Opioid analgesics with        | No                  | Look for an existing prescription (order) for     | Opioid analgesics with\n**  ambulatory misuse potential   |                     | opioid that is in the value set for opioid with   | ambulatory misuse potential\n**  prescription in past 90 days  |                     | ambulatory abuse potential authored               |\n**  including today               |                     | within the past 90 days (including today)         |\n**  ----------------------------------------------------------------------------------------------------------------------------------------\n**  Opioid analgesics with        | No                  | Look for evidence of active medication on         | Opioid analgesics with\n**  ambulatory misuse potential   |                     | the medication list that is in the value set      | ambulatory misuse potential\n**  reported in past 90 days      |                     | for opioid with ambulatory care abuse             |\n**  including today*              |                     | potential                                         |\n**  ----------------------------------------------------------------------------------------------------------------------------------------\n**  Opioid analgesics with        | No                  | Look for evidence of a dispensing event for       | Opioid analgesics with\n**  ambulatory misuse potential   |                     | medication that is in the value set for opioid    | ambulatory misuse potential\n**  dispensing event in past 90   |                     | with ambulatory use potential occurring           |\n**  days including today*         |                     | within the past 90 days (including today)         |\n**  ----------------------------------------------------------------------------------------------------------------------------------------\n**  *Future consideration: Current algorithm addresses only orders (prescriptions).\n**\n**  Note – orders use RxNorm, but medication lists and dispensed medication will\n**  require an NDC value set and/or local mapping of NDC to RxNorm to enable this element\n**\n*/\n\ndefine &quot;Prescription/Dispense Inclusion Period&quot;:\n    Interval[Now() - 89 days, Now()]\n\ndefine &quot;Report Inclusion Period&quot;:\n    Interval[Now() - 90 days, Now())\n\n// NOTE: MedicationStatement-dependent logic comment out due to bug in Publisher not supporting MedicationStatement in AllTypes.\ndefine &quot;Is Opioid Naive?&quot;:\n    not (&quot;Has Opioid RX with Ambulatory Abuse Potential In Past 90 Days&quot;)\n    /* and not (&quot;Has Report of Opioid with Ambulatory Care Abuse Potential Reported in Past 90 Days&quot;) */\n    and not (&quot;Has Opioid Dispense with Ambulatory Abuse Potential In Past 90 Days&quot;)\n\ndefine &quot;Opioid RX with Ambulatory Abuse Potential In Past 90 Days&quot;:\n  Common.&quot;Active Ambulatory Opioid Rx&quot; Rx\n      where Rx.authoredOn during day of &quot;Prescription/Dispense Inclusion Period&quot;\n\ndefine &quot;Has Opioid RX with Ambulatory Abuse Potential In Past 90 Days&quot;:\n    Config.&quot;Opioid Naive Prescription Condition Is Enabled&quot;\n        and exists (&quot;Opioid RX with Ambulatory Abuse Potential In Past 90 Days&quot;)\n\n// NOTE: 2020-02-05: Review direction of MedicationStatement resource (US-Core focusing on MedicationRequest i/o Statement)\n// NOTE: 2020-04-21: MedicationStatement a) Shouldn't be use since guidance/direction from USCore is targeting MedicationUse in R5, and b) Breaks in the publisher\n/* define &quot;Reports of Opioid with Ambulatory Care Abuse Potential Reported in Past 90 Days&quot;:\n    [MedicationStatement: Common.&quot;Opioid analgesics with ambulatory misuse potential&quot;] Statement\n        where Statement.status in {'active', 'completed'}\n            and Statement.effective during day of &quot;Report Inclusion Period&quot; */\n\n/* define &quot;Has Report of Opioid with Ambulatory Care Abuse Potential Reported in Past 90 Days&quot;:\n    Config.&quot;Opioid Naive Report Condition Is Enabled&quot;\n        and exists (&quot;Reports of Opioid with Ambulatory Care Abuse Potential Reported in Past 90 Days&quot;) */\n\ndefine &quot;Opioid Dispense with Ambulatory Abuse Potential In Past 90 Days&quot;:\n    [MedicationDispense: Common.&quot;Opioid analgesics with ambulatory misuse potential&quot;] OpioidDispense\n        where OpioidDispense.whenHandedOver during day of &quot;Prescription/Dispense Inclusion Period&quot;\n            and OpioidDispense.status = 'completed'\n\ndefine &quot;Has Opioid Dispense with Ambulatory Abuse Potential In Past 90 Days&quot;:\n    Config.&quot;Opioid Naive Dispense Condition Is Enabled&quot;\n        and exists (&quot;Opioid Dispense with Ambulatory Abuse Potential In Past 90 Days&quot;)\n\n// End of Opioid Naive Routine\n\n/*\n**  Routine #3\n**  Active Cancer Treatment Routine\n**\n**  Definition                    | Answer to Proceed   | Details                                    | Data (Terminology) Requirement\n**  ---------------------------------------------------------------------------------------------------------------------------------\n**  Two office visits within the  | No                  | Look for a minimum of two distinct         | Office Visit\n**  past 12 months                |                     | encounters within 12 months of the date    |\n**                                |                     | of the current visit for which each of the |\n**                                |                     | following is true:                         |\n**                                |                     |   - the encounter diagnosis (primary or    |\n**                                |                     |     secondary or co-morbidity diagnosis)   |\n**                                |                     |     is listed in the CDC Malignant Cancer  |\n**                                |                     |     Conditions value set                   |\n**  ---------------------------------------------------------------------------------------------------------------------------------\n**  Office visits with an         | No                  | The encounter is performed by an           | Oncology specialty\n**  oncology specialist           |                     | oncologist as defined in the oncology      | designations (NUCC)\n**  present                       |                     | specialty designations using the           |\n**                                |                     | National Uniform Claim Committee           |\n**                                |                     | (NUCC) classifications                     |\n**  ---------------------------------------------------------------------------------------------------------------------------------\n**  Office visits including CDC   | No                  | The encounter diagnosis (primary or        | CDC malignant cancer\n**  malignant cancer              |                     | secondary or co-morbidity diagnosis)       | conditions\n**  condition                     |                     | is listed in the CDC Malignant Cancer      |\n**                                |                     | Conditions value set                       |\n**  ----------------------------------------------------------------------------------------------------------------------------------\n**\n*/\n\ndefine &quot;Encounter Period&quot;:\n  Interval[Now() - 12 months, Now())\n\ndefine &quot;Is Active Cancer Treatment?&quot;:\n  Config.&quot;Active Cancer Treatment Encounters Condition Is Enabled&quot;\n    and &quot;Has Two or More Encounters with Cancer Diagnosis During Encounter Period&quot;\n\ndefine &quot;Active Cancer Diagnoses&quot;:\n  [Condition: category in Common.&quot;US Core Condition Category Codes&quot;] C\n    where C.code in Common.&quot;CDC malignant cancer conditions&quot;\n\ndefine &quot;Oncologist Practitioner Roles&quot;:\n  [PractitionerRole] PractitionerRole\n    where exists (\n      PractitionerRole.specialty Specialty\n        where Specialty in Common.&quot;Oncology specialty designations (NUCC)&quot;\n    )\n\ndefine &quot;Encounters with Cancer Diagnosis During Encounter Period&quot;:\n  [Encounter: Common.&quot;Office Visit&quot;] Encounter\n    where date from Encounter.period.&quot;start&quot;.value in day of &quot;Encounter Period&quot;\n      and exists (\n        Encounter.diagnosis EncounterDiagnosis\n          with &quot;Active Cancer Diagnoses&quot; CancerDiagnosis\n          such that EndsWith(EncounterDiagnosis.condition.reference, CancerDiagnosis.id)\n      )\n      and exists (\n        Encounter.participant EncounterParticipant\n          where EncounterParticipant.type in Common.&quot;Oncology specialty designations (NUCC)&quot;\n            or exists (\n              &quot;Oncologist Practitioner Roles&quot; PractitionerRole\n                where EndsWith(EncounterParticipant.individual.reference, PractitionerRole.id)\n            )\n      )\n\ndefine &quot;Number of Enounters with Cancer Diagnosis During Encounter Period&quot;:\n  Count (&quot;Encounters with Cancer Diagnosis During Encounter Period&quot;)\n\ndefine &quot;Has Two or More Encounters with Cancer Diagnosis During Encounter Period&quot;:\n  &quot;Number of Enounters with Cancer Diagnosis During Encounter Period&quot; &gt;= 2\n\n// End of Active Cancer Treatment Routine\n\n/*\n**  Routine #4\n**  For Chronic Pain Routine\n**\n**  Definition                  | Answer to Proceed   | Details                                        | Data (Terminology) Requirement\n**  -----------------------------------------------------------------------------------------------------------------------------------\n**  Order for opioid analgesic  | Yes                 | Order for opioid analgesics with ambulatory    | Opioid analgesics with\n**  with expected supply        |                     | misuse potential with a supply duration of &gt;=  | ambulatory misuse potential\n**  duration &gt;= 28 days         |                     | 28 days                                        |\n**  -----------------------------------------------------------------------------------------------------------------------------------\n**\n*/\n\ndefine function &quot;Is Chronic Pain Prescription?&quot;(prescription FHIR.MedicationRequest):\n  (\n    prescription.dispenseRequest is not null\n      and prescription.dispenseRequest.expectedSupplyDuration is not null\n      and Common.GetDurationInDays(prescription.dispenseRequest.expectedSupplyDuration) &gt;= 28\n  )\n\n// End of For Chronic Pain Routine\n\n/*\n**  Routine #5\n**  For Acute Pain Routine\n**\n**  Definition                  | Answer to Proceed   | Details                                        | Data (Terminology) Requirement\n**  -----------------------------------------------------------------------------------------------------------------------------------\n**  Order for opioid analgesics | Yes                 | Look for an existing prescription (order) for  | Opioid analgesics with\n**  with ambulatory misuse      |                     | opioid analgesics with ambulatory abuse        | ambulatory misuse potential\n**  potential of duration &lt; 28  |                     | potential of duration &lt; 28 days                |\n**  days                        |                     |                                                |\n**  -----------------------------------------------------------------------------------------------------------------------------------\n**\n*/\n\ndefine function &quot;Is Acute Pain Prescription?&quot;(prescription FHIR.MedicationRequest):\n  prescription.dispenseRequest is not null\n    and prescription.dispenseRequest.expectedSupplyDuration is not null\n    and Common.GetDurationInDays( prescription.dispenseRequest.expectedSupplyDuration ) &lt; 28\n\n// End of For Acute Pain Routine\n\n// TODO: Include logic for dispensing and patient-reported events\n</code></pre>\n                    \n                    \n                </td>\n            </tr>\n        \n    </table>\n</div>"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://fhir.org/guides/cdc/opioid-cds/Library/OpioidCDSRoutines",
  "version": "0.1.1",
  "name": "OpioidCDSRoutines",
  "title": "Library - OpioidCDS Routines",
  "status": "active",
  "experimental": true,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "FHIR model information",
    "resource": "http://fhir.org/guides/cqf/common/Library/FHIR-ModelInfo|4.0.1"
  }, {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/Library/FHIRHelpers|4.0.1"
  }, {
    "type": "depends-on",
    "display": "Library Common",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/Library/OpioidCDSCommon|0.1.1"
  }, {
    "type": "depends-on",
    "display": "Library Config",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/Library/OpioidCDSCommonConfig|0.1.1"
  }, {
    "type": "depends-on",
    "display": "Value set Encounter Diagnosis Condition Category",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/condition-encounter-diagnosis-category"
  }, {
    "type": "depends-on",
    "display": "Value set Problem List Condition Category",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/condition-problem-list-category"
  }, {
    "type": "depends-on",
    "display": "Value set US Core Health Concern Condition Category",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/condition-us-core-health-concern-category"
  }, {
    "type": "depends-on",
    "display": "Value set Limited life expectancy conditions",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/limited-life-expectancy-conditions"
  }, {
    "type": "depends-on",
    "display": "Value set Active Condition",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/condition-clinical-status-active"
  }, {
    "type": "depends-on",
    "display": "Value set Therapies indicating end of life care",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/therapies-indicating-end-of-life-care"
  }, {
    "type": "depends-on",
    "display": "Value set CDC malignant cancer conditions",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/cdc-malignant-cancer-conditions"
  }, {
    "type": "depends-on",
    "display": "Value set Oncology specialty designations (NUCC)",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/oncology-specialty-designations"
  }, {
    "type": "depends-on",
    "display": "Value set Office Visit",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/office-visit"
  }, {
    "type": "depends-on",
    "display": "Value set Community",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/medicationrequest-category-community"
  }, {
    "type": "depends-on",
    "display": "Value set Active MedicationRequest",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/medicationrequest-status-active"
  }, {
    "type": "depends-on",
    "display": "Value set Opioid analgesics with ambulatory misuse potential",
    "resource": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/opioid-analgesics-with-ambulatory-misuse-potential"
  } ],
  "parameter": [ {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Patient"
  }, {
    "name": "Palliative Care Lookback Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Conditions Indicating End Of Life Present",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Order For Palliative Care In Past 90 Days",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Encounter Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Active Cancer Diagnoses",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Condition"
  }, {
    "name": "Oncologist Practitioner Roles",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "PractitionerRole"
  }, {
    "name": "Encounters with Cancer Diagnosis During Encounter Period",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Encounter"
  }, {
    "name": "Number of Enounters with Cancer Diagnosis During Encounter Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "integer"
  }, {
    "name": "Has Two or More Encounters with Cancer Diagnosis During Encounter Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Is Active Cancer Treatment?",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Conditions Including Cancer To Exclude Opioid Management Indicating End-Stage Disease Present",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Is Opioid Review Useful?",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Prescription/Dispense Inclusion Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Report Inclusion Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Opioid RX with Ambulatory Abuse Potential In Past 90 Days",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "MedicationRequest"
  }, {
    "name": "Has Opioid RX with Ambulatory Abuse Potential In Past 90 Days",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Has Opioid Dispense with Ambulatory Abuse Potential In Past 90 Days",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Is Opioid Naive?",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Opioid Dispense with Ambulatory Abuse Potential In Past 90 Days",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "MedicationDispense"
  } ],
  "dataRequirement": [ {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
    "mustSupport": [ "category" ],
    "codeFilter": [ {
      "path": "category",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/condition-encounter-diagnosis-category"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
    "mustSupport": [ "category" ],
    "codeFilter": [ {
      "path": "category",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/condition-problem-list-category"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Condition" ],
    "mustSupport": [ "category" ],
    "codeFilter": [ {
      "path": "category",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/condition-us-core-health-concern-category"
    } ]
  }, {
    "type": "ServiceRequest",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/ServiceRequest" ],
    "mustSupport": [ "code", "authoredOn", "intent", "status" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/therapies-indicating-end-of-life-care"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/MedicationRequest" ],
    "mustSupport": [ "status" ],
    "codeFilter": [ {
      "path": "status",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/medicationrequest-status-active"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/MedicationRequest" ],
    "mustSupport": [ "recorder", "dosageInstruction", "authoredOn", "dispenseRequest", "subject", "medication.reference", "medication", "id", "category", "intent", "status" ],
    "codeFilter": [ {
      "path": "status",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/medicationrequest-status-active"
    } ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Medication" ],
    "mustSupport": [ "id" ],
    "codeFilter": [ {
      "path": "id"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/MedicationRequest" ],
    "mustSupport": [ "recorder", "dosageInstruction", "authoredOn", "dispenseRequest", "subject", "medication.reference", "medication", "id", "category", "intent", "status" ],
    "codeFilter": [ {
      "path": "status",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/medicationrequest-status-active"
    } ]
  }, {
    "type": "MedicationDispense",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/MedicationDispense" ],
    "mustSupport": [ "whenHandedOver", "medication", "status" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/opioid-analgesics-with-ambulatory-misuse-potential"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Encounter" ],
    "mustSupport": [ "period.start", "period", "diagnosis", "type", "period.start.value", "participant" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/office-visit"
    } ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Patient" ]
  }, {
    "type": "PractitionerRole",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/PractitionerRole" ],
    "mustSupport": [ "specialty" ],
    "codeFilter": [ {
      "path": "specialty",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/oncology-specialty-designations"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Encounter" ],
    "mustSupport": [ "period.start", "period", "diagnosis", "type", "period.start.value", "participant" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://fhir.org/guides/cdc/opioid-cds/ValueSet/office-visit"
    } ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBPcGlvaWRDRFNSb3V0aW5lcyB2ZXJzaW9uICcwLjEuMScKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJyBjYWxsZWQgRkhJUkhlbHBlcnMKaW5jbHVkZSBPcGlvaWRDRFNDb21tb24gdmVyc2lvbiAnMC4xLjEnIGNhbGxlZCBDb21tb24KaW5jbHVkZSBPcGlvaWRDRFNDb21tb25Db25maWcgdmVyc2lvbiAnMC4xLjEnIGNhbGxlZCBDb25maWcKCmNvbnRleHQgUGF0aWVudAoKLyoKKiogIFJvdXRpbmUgIzEKKiogIE9waW9pZCBSZXZpZXcgVXNlZnVsIFJvdXRpbmUKKioKKiogIERlZmluaXRpb24gICAgICAgICAgICAgIHwgQW5zd2VyIHRvIFByb2NlZWQgICB8IERldGFpbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRGF0YSAoVGVybWlub2xvZ3kpIFJlcXVpcmVtZW50CioqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKiogIEFnZSA8IDE4IHllYXJzPyAgICAgICAgIHwgTm8gICAgICAgICAgICAgICAgICB8IENhbGN1bGF0ZSBhZ2UgZnJvbSBkYXRlIG9mIGJpcnRoOyBleGNsdWRlICAgIHwgRGF0ZSBvZiBiaXJ0aAoqKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHwgcGF0aWVudHMgd2l0aCBhZ2UgbGVzcyB0aGFuIDE4IHllYXJzIGF0IHRoZSAgfAoqKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHwgdGltZSBvZiB0aGUgcHJlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgICAgfAoqKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCioqICBMaW1pdGVkIGxpZmUgICAgICAgICAgICB8IE5vICAgICAgICAgICAgICAgICAgfCBMb29rIGZvciBkb2N1bWVudGVkIGZpbmRpbmdzIGNvbnNpc3RlbnQgICAgICB8IExpbWl0ZWQgbGlmZSBleHBlY3RhbmN5IGNvbmRpdGlvbnMKKiogIGV4cGVjdGFuY3kgY29uZGl0aW9ucyAgIHwgICAgICAgICAgICAgICAgICAgICB8IHdpdGggdGhvc2UgbGlzdGVkIGluIHRoZSBsaW1pdGVkIGxpZmUgICAgICAgIHwKKiogIHByZXNlbnQ/ICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IGV4cGVjdGFuY3kgdmFsdWUgc2V0ICh0ZXJtaW5hbCBpbGxuZXNzLCBiYWQgIHwKKiogICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IHByb2dub3NpcywgcHJlLXRlcm1pbmFsKSAgICAgICAgICAgICAgICAgICAgIHwKKiogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoqKiAgT3JkZXIgZm9yIHRoZXJhcGllcyAgICAgfCBObyAgICAgICAgICAgICAgICAgIHwgTG9vayBmb3IgcGF0aWVudHMgd2l0aCBhbiBleGlzdGluZyBvcmRlciBmb3IgfCBUaGVyYXBpZXMgaW5kaWNhdGluZyBlbmQgb2YgbGlmZSBjYXJlCioqICBpbmRpY2F0aW5nIGVuZCBvZiBsaWZlICB8ICAgICAgICAgICAgICAgICAgICAgfCB0aGVyYXBpZXMgaW5kaWNhdGluZyBlbmQgb2YgbGlmZSBjYXJlICAgICAgICB8CioqICBjYXJlIGluIHBhc3QgOTAgZGF5cz8gICB8ICAgICAgICAgICAgICAgICAgICAgfCB3cml0dGVuIHdpdGhpbiBwYXN0IDkwIGRheXMgICAgICAgICAgICAgICAgICB8CioqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKiogIEFjdGl2ZSBjYW5jZXIgICAgICAgICAgIHwgTm8gICAgICAgICAgICAgICAgICB8IFNlZSBzdWItcm91dGluZSAzICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU2VlIHN1Yi1yb3V0aW5lIDMKKiogIHRyZWF0bWVudD8gICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKKiogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoqKiAgQ29uZGl0aW9ucyBMaWtlbHkgICAgICAgfCBObyAgICAgICAgICAgICAgICAgIHwgTG9vayBmb3IgcGF0aWVudHMgd2l0aCBhY3RpdmUgY29uZGl0aW9ucyBpbiAgfCBDb25kaXRpb25zIGxpa2VseSB0ZXJtaW5hbCBmb3Igb3Bpb2lkCioqICBUZXJtaW5hbCBmb3Igb3Bpb2lkICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCB0aGUgdmFsdWUgc2V0IGVuZC1vZi1saWZlLWNvbmRpdGlvbnMgICAgICAgICB8IHByZXNjcmliaW5nCioqICBwcmVzY3JpYmluZyBwcmVzZW50PyAgICB8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CioqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKioKKi8KCmRlZmluZSAiUGFsbGlhdGl2ZSBDYXJlIExvb2tiYWNrIFBlcmlvZCI6CiAgSW50ZXJ2YWxbVG9kYXkoKSAtIDkwIGRheXMsIFRvZGF5KCldCgpkZWZpbmUgIklzIE9waW9pZCBSZXZpZXcgVXNlZnVsPyI6CiAgLyogbm90ICJQYXRpZW50IEFnZSBMZXNzIFRoYW4gMTgiICovCiAgICBub3QgIkNvbmRpdGlvbnMgSW5kaWNhdGluZyBFbmQgT2YgTGlmZSBQcmVzZW50IgogICAgYW5kIG5vdCAiT3JkZXIgRm9yIFBhbGxpYXRpdmUgQ2FyZSBJbiBQYXN0IDkwIERheXMiCiAgICBhbmQgbm90ICJJcyBBY3RpdmUgQ2FuY2VyIFRyZWF0bWVudD8iCiAgICBhbmQgbm90ICJDb25kaXRpb25zIEluY2x1ZGluZyBDYW5jZXIgVG8gRXhjbHVkZSBPcGlvaWQgTWFuYWdlbWVudCBJbmRpY2F0aW5nIEVuZC1TdGFnZSBEaXNlYXNlIFByZXNlbnQiCgovKiBkZWZpbmUgIlBhdGllbnQgQWdlIExlc3MgVGhhbiAxOCI6CiAgaWYgKENvbmZpZy4iQWdlIExlc3MgdGhhbiAxOCBZZWFycyBJcyBFbmFibGVkIikgdGhlbgogICAgQWdlSW5ZZWFyc0F0KFRvZGF5KCkpIDwgMTgKICBlbHNlCiAgICBmYWxzZSAqLwoKZGVmaW5lICJDb25kaXRpb25zIEluZGljYXRpbmcgRW5kIE9mIExpZmUgUHJlc2VudCI6CiAgZXhpc3RzICgKICAgIENvbW1vbi4iVVMgQ29yZS1DYXRlZ29yaXplZCBDb25kaXRpb25zIiBMTEVDCiAgICAgIHdoZXJlIExMRUMuY29kZSBpbiBDb21tb24uIkxpbWl0ZWQgbGlmZSBleHBlY3RhbmN5IGNvbmRpdGlvbnMiCiAgICAgICAgYW5kIExMRUMuY2xpbmljYWxTdGF0dXMgaW4gQ29tbW9uLiJBY3RpdmUgQ29uZGl0aW9uIgogICkKCmRlZmluZSAiT3JkZXIgRm9yIFBhbGxpYXRpdmUgQ2FyZSBJbiBQYXN0IDkwIERheXMiOgogIGV4aXN0cyAoCiAgICBbU2VydmljZVJlcXVlc3Q6IENvbW1vbi4iVGhlcmFwaWVzIGluZGljYXRpbmcgZW5kIG9mIGxpZmUgY2FyZSJdIFNSCiAgICAgIHdoZXJlIFNSLnN0YXR1cyBpbiB7ICdhY3RpdmUnLCAnY29tcGxldGVkJ30KICAgICAgICBhbmQgU1IuaW50ZW50ICE9IG51bGwKICAgICAgICBhbmQgRkhJUkhlbHBlcnMuVG9EYXRlVGltZShTUi5hdXRob3JlZE9uKSBkdXJpbmcgZGF5IG9mICJQYWxsaWF0aXZlIENhcmUgTG9va2JhY2sgUGVyaW9kIgogICkKCmRlZmluZSAiQ29uZGl0aW9ucyBJbmNsdWRpbmcgQ2FuY2VyIFRvIEV4Y2x1ZGUgT3Bpb2lkIE1hbmFnZW1lbnQgSW5kaWNhdGluZyBFbmQtU3RhZ2UgRGlzZWFzZSBQcmVzZW50IjoKICBpZiAoQ29uZmlnLiJFbmQtU3RhZ2UgRGlzZWFzZSBDcml0ZXJpYSBFbmFibGVkIikgdGhlbgogICAgZXhpc3RzICgKICAgICAgQ29tbW9uLiJVUyBDb3JlLUNhdGVnb3JpemVkIENvbmRpdGlvbnMiIEVPTEMKICAgICAgICB3aGVyZSBFT0xDLmNvZGUgaW4gQ29tbW9uLiJDb25kaXRpb25zIGxpa2VseSB0ZXJtaW5hbCBmb3Igb3Bpb2lkIHByZXNjcmliaW5nIgogICAgICAgICAgYW5kIEVPTEMuY2xpbmljYWxTdGF0dXMgaW4gQ29tbW9uLiJBY3RpdmUgQ29uZGl0aW9uIgogICAgKQogIGVsc2UKICAgIGZhbHNlCgovLyBFbmQgb2YgT3Bpb2lkIFJldmlldyBVc2VmdWwgUm91dGluZQoKLyoKKiogIFJvdXRpbmUgIzIKKiogIE9waW9pZCBOYWl2ZSBSb3V0aW5lCioqCioqICBEZWZpbml0aW9uICAgICAgICAgICAgICAgICAgICB8IEFuc3dlciB0byBQcm9jZWVkICAgfCBEZXRhaWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRGF0YSAoVGVybWlub2xvZ3kpIFJlcXVpcmVtZW50CioqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCioqICBPcGlvaWQgYW5hbGdlc2ljcyB3aXRoICAgICAgICB8IE5vICAgICAgICAgICAgICAgICAgfCBMb29rIGZvciBhbiBleGlzdGluZyBwcmVzY3JpcHRpb24gKG9yZGVyKSBmb3IgICAgIHwgT3Bpb2lkIGFuYWxnZXNpY3Mgd2l0aAoqKiAgYW1idWxhdG9yeSBtaXN1c2UgcG90ZW50aWFsICAgfCAgICAgICAgICAgICAgICAgICAgIHwgb3Bpb2lkIHRoYXQgaXMgaW4gdGhlIHZhbHVlIHNldCBmb3Igb3Bpb2lkIHdpdGggICB8IGFtYnVsYXRvcnkgbWlzdXNlIHBvdGVudGlhbAoqKiAgcHJlc2NyaXB0aW9uIGluIHBhc3QgOTAgZGF5cyAgfCAgICAgICAgICAgICAgICAgICAgIHwgYW1idWxhdG9yeSBhYnVzZSBwb3RlbnRpYWwgYXV0aG9yZWQgICAgICAgICAgICAgICB8CioqICBleGNsdWRpbmcgdGhlIHByZXZpb3VzIDI0ICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCB3aXRoaW4gdGhlIHBhc3QgOTAgZGF5cyAoZXhjbHVkaW5nIHByZXZpb3VzIDI0ICAgIHwKKiogIGhvdXJzICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IGhvdXJzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAoqKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoqKiAgT3Bpb2lkIGFuYWxnZXNpY3Mgd2l0aCAgICAgICAgfCBObyAgICAgICAgICAgICAgICAgIHwgTG9vayBmb3IgZXZpZGVuY2Ugb2YgYWN0aXZlIG1lZGljYXRpb24gb24gICAgICAgICB8IE9waW9pZCBhbmFsZ2VzaWNzIHdpdGgKKiogIGFtYnVsYXRvcnkgbWlzdXNlIHBvdGVudGlhbCAgIHwgICAgICAgICAgICAgICAgICAgICB8IHRoZSBtZWRpY2F0aW9uIGxpc3QgdGhhdCBpcyBpbiB0aGUgdmFsdWUgc2V0ICAgICAgfCBhbWJ1bGF0b3J5IG1pc3VzZSBwb3RlbnRpYWwKKiogIHJlcG9ydGVkIGluIHBhc3QgOTAgZGF5cyAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IGZvciBvcGlvaWQgd2l0aCBhbWJ1bGF0b3J5IGNhcmUgYWJ1c2UgICAgICAgICAgICAgfAoqKiAgZXhjbHVkaW5nIHByZXZpb3VzIDI0IGhvdXJzKiAgfCAgICAgICAgICAgICAgICAgICAgIHwgcG90ZW50aWFsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CioqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCioqICBPcGlvaWQgYW5hbGdlc2ljcyB3aXRoICAgICAgICB8IE5vICAgICAgICAgICAgICAgICAgfCBMb29rIGZvciBldmlkZW5jZSBvZiBhIGRpc3BlbnNpbmcgZXZlbnQgZm9yICAgICAgIHwgT3Bpb2lkIGFuYWxnZXNpY3Mgd2l0aAoqKiAgYW1idWxhdG9yeSBtaXN1c2UgcG90ZW50aWFsICAgfCAgICAgICAgICAgICAgICAgICAgIHwgbWVkaWNhdGlvbiB0aGF0IGlzIGluIHRoZSB2YWx1ZSBzZXQgZm9yIG9waW9pZCAgICB8IGFtYnVsYXRvcnkgbWlzdXNlIHBvdGVudGlhbAoqKiAgZGlzcGVuc2luZyBldmVudCBpbiBwYXN0IDkwICAgfCAgICAgICAgICAgICAgICAgICAgIHwgd2l0aCBhbWJ1bGF0b3J5IHVzZSBwb3RlbnRpYWwgb2NjdXJyaW5nICAgICAgICAgICB8CioqICBkYXlzIGV4Y2x1ZGluZyBwcmV2aW91cyAyNCAgICB8ICAgICAgICAgICAgICAgICAgICAgfCB3aXRoaW4gdGhlIHBhc3QgOTAgZGF5cyAoZXhjbHVkaW5nIHByZXZpb3VzIDI0ICAgIHwKKiogIGhvdXJzICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IGhvdXJzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAoqKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoqKiAgKkZ1dHVyZSBjb25zaWRlcmF0aW9uOiBDdXJyZW50IGFsZ29yaXRobSBhZGRyZXNzZXMgb25seSBvcmRlcnMgKHByZXNjcmlwdGlvbnMpLgoqKgoqKiAgTm90ZSDigJMgb3JkZXJzIHVzZSBSeE5vcm0sIGJ1dCBtZWRpY2F0aW9uIGxpc3RzIGFuZCBkaXNwZW5zZWQgbWVkaWNhdGlvbiB3aWxsCioqICByZXF1aXJlIGFuIE5EQyB2YWx1ZSBzZXQgYW5kL29yIGxvY2FsIG1hcHBpbmcgb2YgTkRDIHRvIFJ4Tm9ybSB0byBlbmFibGUgdGhpcyBlbGVtZW50CioqCiovCgpkZWZpbmUgIlByZXNjcmlwdGlvbi9EaXNwZW5zZSBJbmNsdXNpb24gUGVyaW9kIjoKICBJbnRlcnZhbFtOb3coKSAtIDkwIGRheXMsIE5vdygpIC0gMjQgaG91cnNdCgpkZWZpbmUgIlJlcG9ydCBJbmNsdXNpb24gUGVyaW9kIjoKICBJbnRlcnZhbFtOb3coKSAtIDkwIGRheXMsIE5vdygpIC0gMjQgaG91cnMpCgovLyBOT1RFOiBNZWRpY2F0aW9uU3RhdGVtZW50LWRlcGVuZGVudCBsb2dpYyBjb21tZW50IG91dCBkdWUgdG8gYnVnIGluIFB1Ymxpc2hlciBub3Qgc3VwcG9ydGluZyBNZWRpY2F0aW9uU3RhdGVtZW50IGluIEFsbFR5cGVzLgpkZWZpbmUgIklzIE9waW9pZCBOYWl2ZT8iOgogICAgbm90ICgiSGFzIE9waW9pZCBSWCB3aXRoIEFtYnVsYXRvcnkgQWJ1c2UgUG90ZW50aWFsIEluIFBhc3QgOTAgRGF5cyIpCiAgICAvKiBhbmQgbm90ICgiSGFzIFJlcG9ydCBvZiBPcGlvaWQgd2l0aCBBbWJ1bGF0b3J5IENhcmUgQWJ1c2UgUG90ZW50aWFsIFJlcG9ydGVkIGluIFBhc3QgOTAgRGF5cyIpICovCiAgICBhbmQgbm90ICgiSGFzIE9waW9pZCBEaXNwZW5zZSB3aXRoIEFtYnVsYXRvcnkgQWJ1c2UgUG90ZW50aWFsIEluIFBhc3QgOTAgRGF5cyIpCgpkZWZpbmUgIk9waW9pZCBSWCB3aXRoIEFtYnVsYXRvcnkgQWJ1c2UgUG90ZW50aWFsIEluIFBhc3QgOTAgRGF5cyI6CiAgQ29tbW9uLiJBY3RpdmUgQW1idWxhdG9yeSBPcGlvaWQgUngiIFJ4CiAgICAgIHdoZXJlIFJ4LmF1dGhvcmVkT24gZHVyaW5nIGRheSBvZiAiUHJlc2NyaXB0aW9uL0Rpc3BlbnNlIEluY2x1c2lvbiBQZXJpb2QiCgpkZWZpbmUgIkhhcyBPcGlvaWQgUlggd2l0aCBBbWJ1bGF0b3J5IEFidXNlIFBvdGVudGlhbCBJbiBQYXN0IDkwIERheXMiOgogICAgaWYgKENvbmZpZy4iT3Bpb2lkIE5haXZlIFByZXNjcmlwdGlvbiBDb25kaXRpb24gSXMgRW5hYmxlZCIpIHRoZW4KICAgICAgZXhpc3RzICgiT3Bpb2lkIFJYIHdpdGggQW1idWxhdG9yeSBBYnVzZSBQb3RlbnRpYWwgSW4gUGFzdCA5MCBEYXlzIikKICAgIGVsc2UKICAgICAgZmFsc2UKCi8vIE5PVEU6IDIwMjAtMDItMDU6IFJldmlldyBkaXJlY3Rpb24gb2YgTWVkaWNhdGlvblN0YXRlbWVudCByZXNvdXJjZSAoVVMtQ29yZSBmb2N1c2luZyBvbiBNZWRpY2F0aW9uUmVxdWVzdCBpL28gU3RhdGVtZW50KQovLyBOT1RFOiAyMDIwLTA0LTIxOiBNZWRpY2F0aW9uU3RhdGVtZW50IGEpIFNob3VsZG4ndCBiZSB1c2Ugc2luY2UgZ3VpZGFuY2UvZGlyZWN0aW9uIGZyb20gVVNDb3JlIGlzIHRhcmdldGluZyBNZWRpY2F0aW9uVXNlIGluIFI1LCBhbmQgYikgQnJlYWtzIGluIHRoZSBwdWJsaXNoZXIKLyogZGVmaW5lICJSZXBvcnRzIG9mIE9waW9pZCB3aXRoIEFtYnVsYXRvcnkgQ2FyZSBBYnVzZSBQb3RlbnRpYWwgUmVwb3J0ZWQgaW4gUGFzdCA5MCBEYXlzIjoKICAgIFtNZWRpY2F0aW9uU3RhdGVtZW50OiBDb21tb24uIk9waW9pZCBhbmFsZ2VzaWNzIHdpdGggYW1idWxhdG9yeSBtaXN1c2UgcG90ZW50aWFsIl0gU3RhdGVtZW50CiAgICAgICAgd2hlcmUgU3RhdGVtZW50LnN0YXR1cyBpbiB7J2FjdGl2ZScsICdjb21wbGV0ZWQnfQogICAgICAgICAgICBhbmQgU3RhdGVtZW50LmVmZmVjdGl2ZSBkdXJpbmcgZGF5IG9mICJSZXBvcnQgSW5jbHVzaW9uIFBlcmlvZCIgKi8KCi8qIGRlZmluZSAiSGFzIFJlcG9ydCBvZiBPcGlvaWQgd2l0aCBBbWJ1bGF0b3J5IENhcmUgQWJ1c2UgUG90ZW50aWFsIFJlcG9ydGVkIGluIFBhc3QgOTAgRGF5cyI6CiAgICBDb25maWcuIk9waW9pZCBOYWl2ZSBSZXBvcnQgQ29uZGl0aW9uIElzIEVuYWJsZWQiCiAgICAgICAgYW5kIGV4aXN0cyAoIlJlcG9ydHMgb2YgT3Bpb2lkIHdpdGggQW1idWxhdG9yeSBDYXJlIEFidXNlIFBvdGVudGlhbCBSZXBvcnRlZCBpbiBQYXN0IDkwIERheXMiKSAqLwoKZGVmaW5lICJPcGlvaWQgRGlzcGVuc2Ugd2l0aCBBbWJ1bGF0b3J5IEFidXNlIFBvdGVudGlhbCBJbiBQYXN0IDkwIERheXMiOgogICAgW01lZGljYXRpb25EaXNwZW5zZTogQ29tbW9uLiJPcGlvaWQgYW5hbGdlc2ljcyB3aXRoIGFtYnVsYXRvcnkgbWlzdXNlIHBvdGVudGlhbCJdIE9waW9pZERpc3BlbnNlCiAgICAgICAgd2hlcmUgT3Bpb2lkRGlzcGVuc2Uud2hlbkhhbmRlZE92ZXIgZHVyaW5nIGRheSBvZiAiUHJlc2NyaXB0aW9uL0Rpc3BlbnNlIEluY2x1c2lvbiBQZXJpb2QiCiAgICAgICAgICAgIGFuZCBPcGlvaWREaXNwZW5zZS5zdGF0dXMgPSAnY29tcGxldGVkJwoKZGVmaW5lICJIYXMgT3Bpb2lkIERpc3BlbnNlIHdpdGggQW1idWxhdG9yeSBBYnVzZSBQb3RlbnRpYWwgSW4gUGFzdCA5MCBEYXlzIjoKICBpZiAoQ29uZmlnLiJPcGlvaWQgTmFpdmUgUHJlc2NyaXB0aW9uIENvbmRpdGlvbiBJcyBFbmFibGVkIikgdGhlbgogICAgZXhpc3RzICgiT3Bpb2lkIFJYIHdpdGggQW1idWxhdG9yeSBBYnVzZSBQb3RlbnRpYWwgSW4gUGFzdCA5MCBEYXlzIikKICBlbHNlCiAgICBmYWxzZQoKLy8gRW5kIG9mIE9waW9pZCBOYWl2ZSBSb3V0aW5lCgovKgoqKiAgUm91dGluZSAjMwoqKiAgQWN0aXZlIENhbmNlciBUcmVhdG1lbnQgUm91dGluZQoqKgoqKiAgRGVmaW5pdGlvbiAgICAgICAgICAgICAgICAgICAgfCBBbnN3ZXIgdG8gUHJvY2VlZCAgIHwgRGV0YWlscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRGF0YSAoVGVybWlub2xvZ3kpIFJlcXVpcmVtZW50CioqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKiogIFR3byBvZmZpY2UgdmlzaXRzIHdpdGhpbiB0aGUgIHwgTm8gICAgICAgICAgICAgICAgICB8IExvb2sgZm9yIGEgbWluaW11bSBvZiB0d28gZGlzdGluY3QgICAgICAgICB8IE9mZmljZSBWaXNpdAoqKiAgcGFzdCAxMiBtb250aHMgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHwgZW5jb3VudGVycyB3aXRoaW4gMTIgbW9udGhzIG9mIHRoZSBkYXRlICAgIHwKKiogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IG9mIHRoZSBjdXJyZW50IHZpc2l0IGZvciB3aGljaCBlYWNoIG9mIHRoZSB8CioqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCBmb2xsb3dpbmcgaXMgdHJ1ZTogICAgICAgICAgICAgICAgICAgICAgICAgfAoqKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHwgICAtIHRoZSBlbmNvdW50ZXIgZGlhZ25vc2lzIChwcmltYXJ5IG9yICAgIHwKKiogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8ICAgICBzZWNvbmRhcnkgb3IgY28tbW9yYmlkaXR5IGRpYWdub3NpcykgICB8CioqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgaXMgbGlzdGVkIGluIHRoZSBDREMgTWFsaWduYW50IENhbmNlciAgfAoqKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHwgICAgIENvbmRpdGlvbnMgdmFsdWUgc2V0ICAgICAgICAgICAgICAgICAgIHwKKiogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoqKiAgT2ZmaWNlIHZpc2l0cyB3aXRoIGFuICAgICAgICAgfCBObyAgICAgICAgICAgICAgICAgIHwgVGhlIGVuY291bnRlciBpcyBwZXJmb3JtZWQgYnkgYW4gICAgICAgICAgIHwgT25jb2xvZ3kgc3BlY2lhbHR5CioqICBvbmNvbG9neSBzcGVjaWFsaXN0ICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCBvbmNvbG9naXN0IGFzIGRlZmluZWQgaW4gdGhlIG9uY29sb2d5ICAgICAgfCBkZXNpZ25hdGlvbnMgKE5VQ0MpCioqICBwcmVzZW50ICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCBzcGVjaWFsdHkgZGVzaWduYXRpb25zIHVzaW5nIHRoZSAgICAgICAgICAgfAoqKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHwgTmF0aW9uYWwgVW5pZm9ybSBDbGFpbSBDb21taXR0ZWUgICAgICAgICAgIHwKKiogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IChOVUNDKSBjbGFzc2lmaWNhdGlvbnMgICAgICAgICAgICAgICAgICAgICB8CioqICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKiogIE9mZmljZSB2aXNpdHMgaW5jbHVkaW5nIENEQyAgIHwgTm8gICAgICAgICAgICAgICAgICB8IFRoZSBlbmNvdW50ZXIgZGlhZ25vc2lzIChwcmltYXJ5IG9yICAgICAgICB8IENEQyBtYWxpZ25hbnQgY2FuY2VyCioqICBtYWxpZ25hbnQgY2FuY2VyICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCBzZWNvbmRhcnkgb3IgY28tbW9yYmlkaXR5IGRpYWdub3NpcykgICAgICAgfCBjb25kaXRpb25zCioqICBjb25kaXRpb24gICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCBpcyBsaXN0ZWQgaW4gdGhlIENEQyBNYWxpZ25hbnQgQ2FuY2VyICAgICAgfAoqKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHwgQ29uZGl0aW9ucyB2YWx1ZSBzZXQgICAgICAgICAgICAgICAgICAgICAgIHwKKiogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKioKKi8KCmRlZmluZSAiRW5jb3VudGVyIFBlcmlvZCI6CiAgSW50ZXJ2YWxbTm93KCkgLSAxMiBtb250aHMsIE5vdygpKQoKZGVmaW5lICJJcyBBY3RpdmUgQ2FuY2VyIFRyZWF0bWVudD8iOgogIGlmIChDb25maWcuIkFjdGl2ZSBDYW5jZXIgVHJlYXRtZW50IEVuY291bnRlcnMgQ29uZGl0aW9uIElzIEVuYWJsZWQiKSB0aGVuCiAgICAgICJIYXMgVHdvIG9yIE1vcmUgRW5jb3VudGVycyB3aXRoIENhbmNlciBEaWFnbm9zaXMgRHVyaW5nIEVuY291bnRlciBQZXJpb2QiCiAgICBlbHNlCiAgICAgIGZhbHNlCgpkZWZpbmUgIkFjdGl2ZSBDYW5jZXIgRGlhZ25vc2VzIjoKICBDb21tb24uIlVTIENvcmUtQ2F0ZWdvcml6ZWQgQ29uZGl0aW9ucyIgQwogICAgd2hlcmUgQy5jb2RlIGluIENvbW1vbi4iQ0RDIG1hbGlnbmFudCBjYW5jZXIgY29uZGl0aW9ucyIKCmRlZmluZSAiT25jb2xvZ2lzdCBQcmFjdGl0aW9uZXIgUm9sZXMiOgogIFtQcmFjdGl0aW9uZXJSb2xlOiBzcGVjaWFsdHkgaW4gQ29tbW9uLiJPbmNvbG9neSBzcGVjaWFsdHkgZGVzaWduYXRpb25zIChOVUNDKSJdIFByYWN0aXRpb25lclJvbGUKCmRlZmluZSAiRW5jb3VudGVycyB3aXRoIENhbmNlciBEaWFnbm9zaXMgRHVyaW5nIEVuY291bnRlciBQZXJpb2QiOgogIFtFbmNvdW50ZXI6IENvbW1vbi4iT2ZmaWNlIFZpc2l0Il0gRW5jb3VudGVyCiAgICB3aGVyZSBkYXRlIGZyb20gRW5jb3VudGVyLnBlcmlvZC4ic3RhcnQiLnZhbHVlIGluIGRheSBvZiAiRW5jb3VudGVyIFBlcmlvZCIKICAgICAgYW5kICgKICAgICAgICBleGlzdHMgKAogICAgICAgICAgRW5jb3VudGVyLmRpYWdub3NpcyBFbmNvdW50ZXJEaWFnbm9zaXMKICAgICAgICAgICAgd2l0aCAiQWN0aXZlIENhbmNlciBEaWFnbm9zZXMiIENhbmNlckRpYWdub3NpcwogICAgICAgICAgICBzdWNoIHRoYXQgRW5kc1dpdGgoRW5jb3VudGVyRGlhZ25vc2lzLmNvbmRpdGlvbi5yZWZlcmVuY2UsIENhbmNlckRpYWdub3Npcy5pZCkKICAgICAgICApCiAgICAgICAgb3IgZXhpc3RzICgKICAgICAgICAgIEVuY291bnRlci5wYXJ0aWNpcGFudCBFbmNvdW50ZXJQYXJ0aWNpcGFudAogICAgICAgICAgICB3aGVyZSBFbmNvdW50ZXJQYXJ0aWNpcGFudC50eXBlIGluIENvbW1vbi4iT25jb2xvZ3kgc3BlY2lhbHR5IGRlc2lnbmF0aW9ucyAoTlVDQykiCiAgICAgICAgICAgICAgb3IgKAogICAgICAgICAgICAgICAgaWYgKENvbmZpZy4iQWN0aXZlIENhbmNlciBUcmVhdG1lbnQgUHJhY3RpdGlvbmVyUm9sZSBTcGVjaWFsdHkgSXMgRW5hYmxlZCIpIHRoZW4KICAgICAgICAgICAgICAgICAgZXhpc3RzICgKICAgICAgICAgICAgICAgICAgICAiT25jb2xvZ2lzdCBQcmFjdGl0aW9uZXIgUm9sZXMiIFByYWN0aXRpb25lclJvbGUKICAgICAgICAgICAgICAgICAgICAgIHdoZXJlIEVuZHNXaXRoKEVuY291bnRlclBhcnRpY2lwYW50LmluZGl2aWR1YWwucmVmZXJlbmNlLCBQcmFjdGl0aW9uZXJSb2xlLmlkKQogICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgIGZhbHNlCiAgICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgKQoKCgpkZWZpbmUgIk51bWJlciBvZiBFbm91bnRlcnMgd2l0aCBDYW5jZXIgRGlhZ25vc2lzIER1cmluZyBFbmNvdW50ZXIgUGVyaW9kIjoKICBDb3VudCAoIkVuY291bnRlcnMgd2l0aCBDYW5jZXIgRGlhZ25vc2lzIER1cmluZyBFbmNvdW50ZXIgUGVyaW9kIikKCmRlZmluZSAiSGFzIFR3byBvciBNb3JlIEVuY291bnRlcnMgd2l0aCBDYW5jZXIgRGlhZ25vc2lzIER1cmluZyBFbmNvdW50ZXIgUGVyaW9kIjoKICAiTnVtYmVyIG9mIEVub3VudGVycyB3aXRoIENhbmNlciBEaWFnbm9zaXMgRHVyaW5nIEVuY291bnRlciBQZXJpb2QiID49IDIKCi8vIEVuZCBvZiBBY3RpdmUgQ2FuY2VyIFRyZWF0bWVudCBSb3V0aW5lCgovKgoqKiAgUm91dGluZSAjNAoqKiAgRm9yIENocm9uaWMgUGFpbiBSb3V0aW5lCioqCioqICBEZWZpbml0aW9uICAgICAgICAgICAgICAgICAgfCBBbnN3ZXIgdG8gUHJvY2VlZCAgIHwgRGV0YWlscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IERhdGEgKFRlcm1pbm9sb2d5KSBSZXF1aXJlbWVudAoqKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKiogIE9yZGVyIGZvciBvcGlvaWQgYW5hbGdlc2ljICB8IFllcyAgICAgICAgICAgICAgICAgfCBPcmRlciBmb3Igb3Bpb2lkIGFuYWxnZXNpY3Mgd2l0aCBhbWJ1bGF0b3J5ICAgIHwgT3Bpb2lkIGFuYWxnZXNpY3Mgd2l0aAoqKiAgd2l0aCBleHBlY3RlZCBzdXBwbHkgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IG1pc3VzZSBwb3RlbnRpYWwgd2l0aCBhIHN1cHBseSBkdXJhdGlvbiBvZiA+PSAgfCBhbWJ1bGF0b3J5IG1pc3VzZSBwb3RlbnRpYWwKKiogIGR1cmF0aW9uID49IDI4IGRheXMgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCAyOCBkYXlzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKKiogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCioqCiovCgpkZWZpbmUgZnVuY3Rpb24gIklzIENocm9uaWMgUGFpbiBQcmVzY3JpcHRpb24/IihwcmVzY3JpcHRpb24gRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCk6CiAgKAogICAgcHJlc2NyaXB0aW9uLmRpc3BlbnNlUmVxdWVzdCBpcyBub3QgbnVsbAogICAgICBhbmQgcHJlc2NyaXB0aW9uLmRpc3BlbnNlUmVxdWVzdC5leHBlY3RlZFN1cHBseUR1cmF0aW9uIGlzIG5vdCBudWxsCiAgICAgIGFuZCBDb21tb24uR2V0RHVyYXRpb25JbkRheXMocHJlc2NyaXB0aW9uLmRpc3BlbnNlUmVxdWVzdC5leHBlY3RlZFN1cHBseUR1cmF0aW9uKSA+PSAyOAogICkKCi8vIEVuZCBvZiBGb3IgQ2hyb25pYyBQYWluIFJvdXRpbmUKCi8qCioqICBSb3V0aW5lICM1CioqICBGb3IgQWN1dGUgUGFpbiBSb3V0aW5lCioqCioqICBEZWZpbml0aW9uICAgICAgICAgICAgICAgICAgfCBBbnN3ZXIgdG8gUHJvY2VlZCAgIHwgRGV0YWlscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IERhdGEgKFRlcm1pbm9sb2d5KSBSZXF1aXJlbWVudAoqKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKiogIE9yZGVyIGZvciBvcGlvaWQgYW5hbGdlc2ljcyB8IFllcyAgICAgICAgICAgICAgICAgfCBMb29rIGZvciBhbiBleGlzdGluZyBwcmVzY3JpcHRpb24gKG9yZGVyKSBmb3IgIHwgT3Bpb2lkIGFuYWxnZXNpY3Mgd2l0aAoqKiAgd2l0aCBhbWJ1bGF0b3J5IG1pc3VzZSAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8IG9waW9pZCBhbmFsZ2VzaWNzIHdpdGggYW1idWxhdG9yeSBhYnVzZSAgICAgICAgfCBhbWJ1bGF0b3J5IG1pc3VzZSBwb3RlbnRpYWwKKiogIHBvdGVudGlhbCBvZiBkdXJhdGlvbiA8IDI4ICB8ICAgICAgICAgICAgICAgICAgICAgfCBwb3RlbnRpYWwgb2YgZHVyYXRpb24gPCAyOCBkYXlzICAgICAgICAgICAgICAgIHwKKiogIGRheXMgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwKKiogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCioqCiovCgpkZWZpbmUgZnVuY3Rpb24gIklzIEFjdXRlIFBhaW4gUHJlc2NyaXB0aW9uPyIocHJlc2NyaXB0aW9uIEZISVIuTWVkaWNhdGlvblJlcXVlc3QpOgogIHByZXNjcmlwdGlvbi5kaXNwZW5zZVJlcXVlc3QgaXMgbm90IG51bGwKICAgIGFuZCBwcmVzY3JpcHRpb24uZGlzcGVuc2VSZXF1ZXN0LmV4cGVjdGVkU3VwcGx5RHVyYXRpb24gaXMgbm90IG51bGwKICAgIGFuZCBDb21tb24uR2V0RHVyYXRpb25JbkRheXMoIHByZXNjcmlwdGlvbi5kaXNwZW5zZVJlcXVlc3QuZXhwZWN0ZWRTdXBwbHlEdXJhdGlvbiApIDwgMjgKCi8vIEVuZCBvZiBGb3IgQWN1dGUgUGFpbiBSb3V0aW5lCgovLyBUT0RPOiBJbmNsdWRlIGxvZ2ljIGZvciBkaXNwZW5zaW5nIGFuZCBwYXRpZW50LXJlcG9ydGVkIGV2ZW50cwo="
  } ]
}